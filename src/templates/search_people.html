{% extends 'tpl/template.html' %}
{% block title %}Search People{% endblock %}
{% block head %}
    {% assets "scss_search_people" %}
        <link rel=stylesheet type=text/css href="{{ ASSET_URL }}">
    {% endassets %}
{% endblock %}

{% block header %}{% include 'tpl/header.html' %}{% endblock %}

{% block body %}

<div class="center">
    <div class="upload-button">
        <!-- Toggle Import / Take Photo -->
        <div class="toggle-container">
            <label for="toggle">Import photo</label>
            <input class="toggle" id="toggle" name="toggle" type="checkbox" style="--s:20px">
            <label for="toggle">Take photo</label>
        </div>
    </div>

    <!-- Container Import Photo -->
    <div id="import-photo-container">
        <input type="file" id="fileInput" accept="image/*" style="display: none;" onchange="previewImage(event)">
        <label for="fileInput" class="upload-label" id="upload-label">Choose a photo</label>
        <img id="upload-container" class="photo" src="#" alt="AperÃ§u de l'image" style="display: none;" onclick="triggerFileInput()">
    </div>

    <!-- Container Take Photo -->
    <div id="take-photo-container" style="display: none;">
        <div id="camera-container">
            <video id="camera" autoplay></video>
            <div id="oval-overlay"></div>
        </div>
        <button id="capture-btn" class="button">Capture Photo</button>
        <canvas id="photo" style="display: none;"></canvas>
    </div>

    <!-- Actions -->
    <div id="photoActions" style="display: none;">
        <button onclick="checkPhoto()">Search</button>
        <div id="result"></div>
    </div>
</div>


{% endblock %}

{% block footer %}
    <script>const CAMERA_SCRIPT_URL = "{{ url_for('static', filename='js/utils/camera.js') }}";</script>
    <script src="{{ url_for('static', filename='js/search_people.js') }}"></script>
    {% include 'tpl/footer.html' %}
{% endblock %}